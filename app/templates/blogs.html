{% extends 'oootstrap/base.html'%}

{% block styles%}
{{ super() }}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<!-- jQuery and JS bundle w/ Popper.js -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<link rel="stylesheet" href="{{url_for('static',filename='css/index.css')}}" type="text/css">
{% endblock styles%}



{%block content%}

<div class="row">
    {% for blog in blogs %}
    <div class="col-md-3"></div>
    <div class="col-md-9">
        <div class="card">
            
            <div class="card-body" >
            <blockquote class=" card-body">
                <h2 class="text-center" style="font-size:1.5rem; font-family: 'Poppins', sans-serif; ">{{blog.title}}</h2>
                <p style="font-size: 1.3rem;">{{blog.content}}</p> 
                {% if blog.user == current_user %}
            
            
    
           
                <a class="btn btn-sm" href="{{ url_for('main.updateblog', blog_id=blog.id) }}" style="border-radius: 5px; background-color: rgb(10, 10, 10); color: white;">Update</a>
                <button type="button" class="btn btn-sm " data-toggle="modal"
                data-target="#deleteModal" style="background-color: black; color: white; font-family: 'Poppins', sans-serif ;">Delete</button>

               
           
                {% endif %}
                <a href="{{url_for('main.new_comment',blog_id = blog.id)}}" class="btn btn-sm "style="border-radius: 5px; background-color: rgb(10, 10, 10); color: white;">Add a Comment</a>
                <a href="/view_comments/{{blog.id}}" class="btn btn-sm" style="border-radius: 5px; background-color: rgb(10, 10, 10); color: white;">View Comments</a>
                <footer class="blockquote-footer">
               
                    <cite title="Source Title" style="color: black; font-size:1.2rem ;" >{{ blog.user.username }}</cite>
                    <small style="float:right; font-size:0.9rem;">{{ blog.posted_on.strftime('%d-%m-%Y') }}</small>
                </footer>
                
              </blockquote>
            </div>
            
        
        </div>
    </div>
    <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="deleteModalLabel del">Are you sure you want to delete this blog?</h5>
            <div class="row">

            <div class="modal-footer">
                <div class="">
                    <form action="{{ url_for('main.delete_post', blog_id=blog.id) }}" method="POST"  style="display: inline; float: left !important;">
                        <button type="submit" class="btn btn-sm" style="padding-top: 5%; padding-bottom: 6%; border-radius: 5px; background-color: black; font-family:'Poppins', sans-serif  ; color: white;">Delete blog</button>
                    </form>
                <button type="button" class="btn btn-sm " data-dismiss="modal"style="background-color: black; color: white; font-family: 'Poppins', sans-serif ;" >Cancel</button>
                </div>

                
            </div>
            
            </div>
        </div>
        </div>
    </div>
</div>
    {% endfor %}
</div>

{%endblock%}

